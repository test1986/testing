<!DOCTYPE html>

<html lang="en">

<head>

    <title>ASP.NET Web API</title>

    <link href="http://code.jquery.com/mobile/latest/jquery.mobile.css" />

    <script src="http://code.jquery.com/jquery-latest.js" 

        type="text/javascript"></script>

        <script type="text/javascript">
$.support.cors = true;
jQuery.support.cors = true;

            $(document).ready(function () {

                $.getJSON("http://localhost:4763/api/Mobile",

               function (Data) {



                   $.each(Data, function (key, val) {

                       var str = val.Title + ': $' + val.Price;

                       $('<li/>', { text: str })

                       .appendTo($('#items'));

                   });

               });

            });



            function show() {

                var Id = $('#itId').val();

                $.getJSON("http://localhost:4763/api/Mobile/" + Id,

                    function (Data) {

                        var str = Data.Title + ': $' + Data.Price;

                        $('#items').text(str);

                    })

                .fail(

                    function (jqXHR, textStatus, err) {

                        $('#items').text('Error: ' + err);

                    });

            }

        </script>

 

</head>

<body id="body" >

    <div class="main-content">

        <div>

            <h1>Showing All Items </h1>

            <ul id="items"/>

        </div>

        <div>

            <label for="itId">ID:</label>

            <input type="text" id="itId" size="5"/>

            <input type="button" value="Search" onclick="show();" />

            <p id="item" />

        </div>

    </div>

</body>

</html>
